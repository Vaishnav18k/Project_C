<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
    <title>Music Events</title>
    <!-- CSS Link -->
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="Events Asset/event.css">
    <!-- Box Icon Link for Icons -->
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
   
</head>
<body>
 <!-- Header & Navbar Section -->
 <header>
    <nav>
      <div class="nav_logo">
        <a href="#">
          <img src="images/logo.svg" alt="log-img" />
          <h2>Artistic</h2>
        </a>
      </div>
      <input type="checkbox" id="click" />
      <label for="click">
        <i class="menu_btn bx bx-menu"></i>
        <i class="close_btn bx bx-x"></i>
      </label>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="About us.html">About</a></li>
        <!-- <li><a href="">Services</a></li> -->
        <li><a href="Events.html">Events</a></li>
        <li><a href="contact.html">Contact</a></li>
        <div class="profile_logo">
            <a href="profile.html">
                <img src="https://cdn-icons-png.flaticon.com/128/16869/16869838.png" alt="Profile Logo" style="height:56px;" />
            </a>
        </div>

      </ul>
    </nav>
    
    <br>
    <div class="calendar-container">
      <div id="calendar"></div>
      <div id="event-details" class="event-details">
          <button id="close-btn" class="close-btn">X</button>
          <h2 id="event-title"></h2>
          <p id="event-description"></p>
          <a id="readmore-btn" href="#" target="_blank">Read More</a>
      </div>
  </div>
  <script>
   document.addEventListener('DOMContentLoaded', () => {
    const calendarElement = document.getElementById('calendar');
    const eventDetails = document.getElementById('event-details');
    const closeBtn = document.getElementById('close-btn');
    const eventTitle = document.getElementById('event-title');
    const eventDescription = document.getElementById('event-description');
    const readmoreBtn = document.getElementById('readmore-btn');

    // Generate a calendar and handle click events
    function generateCalendar() {
        const currentDate = new Date();
        const year = currentDate.getFullYear();
        const month = currentDate.getMonth();

        // Example implementation: You need a more robust calendar generation
        calendarElement.innerHTML = `
            <div class="calendar-header">
                <h2>${currentDate.toLocaleString('default', { month: 'long' })} ${year}</h2>
            </div>
            <div class="calendar-days">
                ${generateDays(year, month)}
            </div>
        `;

        // Add click events to days
        document.querySelectorAll('.calendar-day').forEach(day => {
            day.addEventListener('click', (event) => {
                const date = event.target.dataset.date;
                fetchEventDetails(date);
            });
        });
    }

    function generateDays(year, month) {
        let days = '';
        const firstDay = new Date(year, month, 1).getDay();
        const lastDate = new Date(year, month + 1, 0).getDate();

        // Add empty cells for the first day of the month
        for (let i = 0; i < firstDay; i++) {
            days += '<div class="calendar-day empty"></div>';
        }

        // Add days of the month
        for (let i = 1; i <= lastDate; i++) {
            days += `<div class="calendar-day" data-date="${year}-${month + 1}-${i}">${i}</div>`;
        }

        return days;
    }

    function fetchEventDetails(date) {
        fetch(`fetch_events.php?date=${date}`)
            .then(response => response.json())
            .then(data => {
                if (data) {
                    eventTitle.textContent = data.title;
                    eventDescription.textContent = data.description;
                    readmoreBtn.href = data.url;
                    eventDetails.style.display = 'block';
                } else {
                    eventDetails.style.display = 'none';
                }
            });
    }

    closeBtn.addEventListener('click', () => {
        eventDetails.style.display = 'none';
    });

    generateCalendar();
});
  </script>



</body>
</html>